name: HTML Cache Demo

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  cache-test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      # Create dummy assets only if they don't exist
      - name: Create dummy assets
        run: |
          mkdir -p my-assets
          echo "Simulated dependency data" > my-assets/data.txt

      - name: Cache Dependencies
        # This ID must be used to reference this step's outputs
        id: cache_step
        uses: actions/cache@v4
        with:
          path: my-assets
          key: cache-d023fcb

      - name: Check Cache Status
        run: |
          # Use the 'id' from the step above
          echo "Cache hit result: ${{ steps.cache_step.outputs.cache-hit }}"
          if [ "${{ steps.cache_step.outputs.cache-hit }}" == "true" ]; then
            echo "Success: Cache hit!"
          else
            echo "Notice: Cache miss. On next run, this will be a hit."
          fi
